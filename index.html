<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happi anni ^^</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Patrick+Hand&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary-color: #e75480;
        --secondary-color: #f9c7d1;
        --accent-color: #ff85a2;
        --text-color: #5e2b35;
        --light-bg: #fff9e6;
        --dark-bg: #f8e1e4;
        --shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        --deep-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Patrick Hand", cursive;
        background-color: var(--dark-bg);
        color: var(--text-color);
        overflow-x: hidden;
        min-height: 100vh;
        background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");
        line-height: 1.6;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 2rem 1rem;
      }

      /* Main Container */
      .main-container {
        max-width: 800px;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      /* Header */
      .header {
        text-align: center;
        margin-bottom: 2rem;
        width: 100%;
      }

      .header h1 {
        font-family: "Dancing Script", cursive;
        font-size: clamp(2.5rem, 6vw, 3.5rem);
        color: var(--primary-color);
        margin-bottom: 0.5rem;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        animation: fadeInDown 1s both;
      }

      .subtitle {
        font-size: 1.2rem;
        color: var(--text-color);
        opacity: 0.8;
      }

      /* Countdown */
      .countdown-container {
        background-color: white;
        border-radius: 15px;
        padding: 1.5rem;
        box-shadow: var(--shadow);
        margin-bottom: 2rem;
        width: 100%;
        max-width: 500px;
        animation: fadeIn 1.5s both;
      }

      .countdown {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin: 1rem 0;
        flex-wrap: wrap;
      }

      .countdown-item {
        text-align: center;
        min-width: 70px;
      }

      .countdown-number {
        font-size: 2rem;
        font-weight: bold;
        color: var(--primary-color);
        line-height: 1;
      }

      .countdown-label {
        font-size: 0.9rem;
        color: var(--text-color);
        opacity: 0.8;
        text-transform: uppercase;
      }

      /* Envelope Container */
      .envelope-container {
        position: relative;
        width: min(350px, 90vw);
        height: 240px;
        perspective: 1000px;
        margin: 3rem 0 200px;
      }

      /* Envelope */
      .envelope {
        position: relative;
        width: 100%;
        height: 100%;
        background-color: var(--secondary-color);
        border-radius: 8px;
        cursor: pointer;
        transform-style: preserve-3d;
        transition: all 0.6s ease;
        box-shadow: var(--deep-shadow);
        z-index: 20;
        animation: fadeIn 1.5s both;
      }

      .envelope:before {
        content: "";
        position: absolute;
        top: 0;
        width: 0;
        height: 0;
        border-left: 175px solid transparent;
        border-right: 175px solid transparent;
        border-top: 120px solid var(--accent-color);
        transform-origin: top;
        transform: rotateX(0deg);
        transition: all 0.6s ease;
        z-index: 15;
        filter: brightness(0.9);
      }

      .envelope.open:before {
        transform: rotateX(180deg);
      }

      .stamp {
        position: absolute;
        right: 25px;
        top: 25px;
        width: 70px;
        height: 90px;
        background-color: var(--secondary-color);
        border: 2px dashed var(--primary-color);
        transform: rotate(15deg);
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 0.9rem;
        color: var(--primary-color);
        font-weight: bold;
        z-index: 25;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .envelope:hover .stamp {
        transform: rotate(15deg) scale(1.05);
      }

      /* Letter */
      .letter {
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        max-height: 0;
        background-color: var(--light-bg);
        border-radius: 0 0 8px 8px;
        box-shadow: var(--deep-shadow);
        padding: 0 25px;
        overflow: hidden;
        background-image: url("https://www.transparenttextures.com/patterns/notebook.png");
        transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        z-index: 10;
        transform-origin: top;
      }

      .envelope.open .letter {
        max-height: 600px;
        padding: 25px;
        overflow-y: auto;
        top: 100%;
        margin-top: 15px;
        transform: scaleY(1);
        animation: letterAppear 0.8s ease;
      }

      .letter-content {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        opacity: 0;
        transition: opacity 0.5s ease 0.3s;
      }

      .envelope.open .letter-content {
        opacity: 1;
      }

      .heart {
        color: var(--primary-color);
        font-size: 3rem;
        text-align: center;
        animation: pulse 2s infinite;
        transform: scale(0);
        transition: transform 0.5s ease 0.5s;
      }

      .envelope.open .heart {
        transform: scale(1);
      }

      .letter-date {
        font-size: 1.1rem;
        color: var(--text-color);
        text-align: center;
        font-weight: bold;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.5s ease 0.6s;
      }

      .envelope.open .letter-date {
        opacity: 1;
        transform: translateY(0);
      }

      .photo-frame {
        margin: 0 auto;
        width: 90%;
        border: 8px solid white;
        border-radius: 5px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        transform: rotate(-5deg) scale(0.9);
        transition: all 0.8s ease 0.7s;
        overflow: hidden;
        opacity: 0;
      }

      .envelope.open .photo-frame {
        transform: rotate(-2deg) scale(1);
        opacity: 1;
      }

      .photo-frame img {
        width: 100%;
        height: auto;
        display: block;
        transition: transform 0.5s ease;
      }

      .photo-frame:hover {
        transform: rotate(0deg) scale(1.03) !important;
      }

      .photo-frame:hover img {
        transform: scale(1.05);
      }

      .message {
        font-size: 1.1rem;
        line-height: 1.8;
        text-align: center;
        padding-bottom: 1rem;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.5s ease 0.9s;
      }

      .envelope.open .message {
        opacity: 1;
        transform: translateY(0);
      }

      .message p {
        margin-bottom: 1rem;
        position: relative;
      }

      .message p:after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 50%;
        transform: translateX(-50%);
        width: 50px;
        height: 2px;
        background: linear-gradient(
          to right,
          var(--primary-color),
          var(--secondary-color)
        );
        opacity: 0;
        transition: opacity 0.5s ease 1.2s;
      }

      .envelope.open .message p:after {
        opacity: 0.5;
      }

      /* Button */
      .btn {
        background-color: var(--primary-color);
        color: white;
        border: none;
        padding: 1rem 2rem;
        border-radius: 50px;
        cursor: pointer;
        font-size: 1.1rem;
        font-family: "Patrick Hand", cursive;
        transition: all 0.5s ease;
        box-shadow: 0 5px 15px rgba(231, 84, 128, 0.4);
        margin: 1rem auto 2rem;
        display: block;
        opacity: 0;
        transform: scale(0.8);
        transition: all 0.5s ease 1.1s;
      }

      .envelope.open .btn {
        opacity: 1;
        transform: scale(1);
      }

      .btn:hover {
        background-color: #d1426f;
        transform: scale(1.05) !important;
        box-shadow: 0 8px 20px rgba(231, 84, 128, 0.6);
        letter-spacing: 1px;
      }

      .btn:active {
        transform: scale(0.98) !important;
      }

      /* Music player */
      .music-player {
        position: fixed;
        bottom: 30px;
        right: 30px;
        background-color: white;
        border-radius: 50%;
        width: 70px;
        height: 70px;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: var(--deep-shadow);
        cursor: pointer;
        z-index: 100;
        transition: all 0.3s ease;
      }

      .music-player:hover {
        transform: scale(1.1) rotate(15deg);
      }

      .music-icon {
        color: var(--primary-color);
        font-size: 1.8rem;
        transition: all 0.3s ease;
      }

      /* Floating hearts */
      .floating-hearts {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: -1;
      }

      .floating-heart {
        position: absolute;
        font-size: 24px;
        color: rgba(231, 84, 128, 0.6);
        animation: float-up 6s linear infinite;
      }

      /* Confetti container */
      .confetti-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 100;
        display: none;
      }

      /* Ink blots */
      .ink-blot {
        position: absolute;
        width: 100px;
        height: 100px;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="%23f9c7d1" d="M50 0C30 0 20 20 10 30c-10 10-10 30 0 40 10 10 30 10 40 0 10-10 10-30 0-40C80 20 70 0 50 0z"/></svg>');
        background-size: contain;
        background-repeat: no-repeat;
        opacity: 0.1;
        z-index: -1;
      }

      /* Animations */
      @keyframes float-up {
        0% {
          transform: translateY(100vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(-20vh) rotate(360deg);
          opacity: 0;
        }
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
        }
      }

      @keyframes confetti-fall {
        0% {
          transform: translateY(-100px) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0;
        }
      }

      @keyframes letterAppear {
        0% {
          transform: scaleY(0);
        }
        80% {
          transform: scaleY(1.05);
        }
        100% {
          transform: scaleY(1);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* Responsive */
      @media (max-width: 480px) {
        .countdown-item {
          min-width: 60px;
        }

        .countdown-number {
          font-size: 1.8rem;
        }

        .envelope-container {
          margin: 2rem 0 150px;
        }

        .letter {
          padding: 0 20px;
        }

        .envelope.open .letter {
          padding: 20px;
          max-height: 500px;
        }

        .music-player {
          width: 60px;
          height: 60px;
          bottom: 20px;
          right: 20px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Floating hearts background -->
    <div class="floating-hearts" id="hearts-container"></div>

    <!-- Ink blots decoration -->
    <div
      class="ink-blot"
      style="
        top: 10%;
        left: 10%;
        transform: rotate(20deg);
        width: 150px;
        height: 150px;
      "
    ></div>
    <div
      class="ink-blot"
      style="
        top: 70%;
        right: 5%;
        transform: rotate(-15deg);
        width: 120px;
        height: 120px;
      "
    ></div>
    <div
      class="ink-blot"
      style="
        top: 30%;
        right: 20%;
        transform: rotate(30deg);
        width: 100px;
        height: 100px;
      "
    ></div>

    <!-- Confetti container -->
    <div class="confetti-container" id="confetti-container"></div>

    <!-- Music player -->
    <div class="music-player" id="musicPlayer">
      <i class="fas fa-music music-icon"></i>
      <iframe
        src="https://www.nhaccuatui.com/bai-hat/doi-loi-hoang-dung-the-voice.OKpZObSsfkj8.html"
        width="1"
        height="1"
        frameborder="0"
        allowfullscreen
        allow="autoplay"
      ></iframe>
    </div>

    <!-- Main Container -->
    <div class="main-container">
      <!-- Header -->
      <div class="header">
        <h1>Vậy là chúng mình đã bên nhau được....</h1>
        <p class="subtitle">Nhấn vào phong bì để mở thư ❤️</p>
      </div>

      <!-- Countdown -->
      <div class="countdown-container">
        <div class="countdown">
          <div class="countdown-item">
            <div class="countdown-number" id="days">00</div>
            <div class="countdown-label">Ngày</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="hours">00</div>
            <div class="countdown-label">Giờ</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="minutes">00</div>
            <div class="countdown-label">Phút</div>
          </div>
          <div class="countdown-item">
            <div class="countdown-number" id="seconds">00</div>
            <div class="countdown-label">Giây</div>
          </div>
        </div>
      </div>

      <!-- Envelope with Letter -->
      <div class="envelope-container">
        <div class="envelope" id="envelope">
          <div class="stamp">1 THÁNG</div>
          <div class="letter">
            <div class="letter-content">
              <div class="heart">❤</div>
              <div class="letter-date">
                Biên Hòa, <span id="anniversary-date">20/08/2025</span>
              </div>

              <div class="message">
                <p>Lam Phương yêu dấu ơiiii,</p>
                <p>
                  Mới đây thôi mà đã tròn 1 tháng kể từ ngày chúng mình chọn
                  đồng hành cùng nhau trên cái hành trình này. Một tháng nghe
                  thì ngắn ngủi, nhưng đối với chị, nó là cả một chặng đường
                  đáng nhớ, với biết bao cung bậc cảm xúc: vui có, buồn có, giận
                  có, và rồi chẳng biết vì sao chị lại thương em nhiều hơn sau
                  những lần nói chuyện đó.
                </p>

                <p>
                  Chị cảm thấy thật may mắn và biết ơn vì chúng mình đã luôn
                  chọn ở lại bên nhau, cùng vượt qua từng khó khăn đó để có thể
                  đi đến ngày hôm nay.
                </p>
                <p>
                  Dù hai đứa mình có nhiều khác biệt:từ thói quen, sở thích, suy
                  nghĩ, tính cách và cả cách yêu thương và thể hiện tình cảm,
                  nhưng chị không vì điều đó mà bỏ cuộc, thậm chí chính những
                  khác biệt đó lại khiến chị càng trân trọng tình yêu này.
                </p>
                <p>
                  Chị mong rằng hôm nay chỉ là khởi đầu cho cột mốc kỉ niệm đầu
                  tiên. Và hy vọng rằng hai đứa sẽ có thật nhiều kỷ niệm đẹp hơn
                  nữa. Hỏng biết tương lai sau này ra sao, chỉ biết là ở hiện
                  tại, chị thấy hạnh phúc và yêu em rất nhiều. Lỡ sau này có
                  giận gì nhau, hãy nhìn lại vì sao mình bắt nhau và bước tiếp
                  nhaaa
                </p>
                <p>
                  Chị yêu em rất nhiều, nhiều hơn cả những gì chị có thể diễn
                  đạt bằng lời. 💙
                </p>
              </div>

              <button class="btn" id="loveBtn">Đóng thư</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Tạo trái tim bay
      function createHearts() {
        const container = document.getElementById("hearts-container");
        const heartCount = Math.floor(window.innerWidth / 50);

        for (let i = 0; i < heartCount; i++) {
          setTimeout(() => {
            const heart = document.createElement("div");
            heart.classList.add("floating-heart");
            heart.innerHTML = ["❤", "💖", "💗", "💓", "💞"][
              Math.floor(Math.random() * 5)
            ];
            heart.style.left = Math.random() * 100 + "vw";
            heart.style.animationDuration = 4 + Math.random() * 8 + "s";
            heart.style.fontSize = 15 + Math.random() * 30 + "px";
            heart.style.opacity = 0.2 + Math.random() * 0.7;
            container.appendChild(heart);

            setTimeout(() => {
              heart.remove();
            }, 12000);
          }, i * 500);
        }
      }

      // Lặp lại việc tạo trái tim
      setInterval(createHearts, 5000);
      createHearts();

      // Hiệu ứng phong thư
      const envelope = document.getElementById("envelope");
      let isOpen = false;

      envelope.addEventListener("click", function () {
        isOpen = !isOpen;
        this.classList.toggle("open");

        if (isOpen) {
          showConfetti();
          createInkBlots();
        }
      });

      // Tự động mở phong thư sau 2 giây
      setTimeout(() => {
        if (!isOpen) {
          envelope.classList.add("open");
          isOpen = true;
          showConfetti();
          createInkBlots();
        }
      }, 2000);

      // Hiệu ứng confetti
      function showConfetti() {
        const container = document.getElementById("confetti-container");
        container.style.display = "block";
        container.innerHTML = "";

        const colors = ["#e75480", "#f9c7d1", "#ff85a2", "#ffb6c1", "#ff69b4"];
        const confettiCount = 50;

        for (let i = 0; i < confettiCount; i++) {
          const confetti = document.createElement("div");
          confetti.style.position = "absolute";
          confetti.style.width = "10px";
          confetti.style.height = "10px";
          confetti.style.backgroundColor =
            colors[Math.floor(Math.random() * colors.length)];
          confetti.style.left = Math.random() * 100 + "vw";
          confetti.style.borderRadius = "50%";
          confetti.style.animation = `confetti-fall ${
            2 + Math.random() * 3
          }s linear forwards`;
          confetti.style.opacity = "0.8";

          container.appendChild(confetti);

          setTimeout(() => {
            confetti.remove();
            if (i === confettiCount - 1) {
              container.style.display = "none";
            }
          }, 5000);
        }
      }

      // Tạo vết mực trang trí
      function createInkBlots() {
        const blots = document.querySelectorAll(".ink-blot");
        blots.forEach((blot) => {
          blot.style.animation = "fadeIn 1s ease forwards";
        });
      }

      // Nút yêu thương
      document.getElementById("loveBtn").addEventListener("click", function () {
        showConfetti();

        // Hiệu ứng trái tim bay
        for (let i = 0; i < 20; i++) {
          setTimeout(() => {
            const heart = document.createElement("div");
            heart.classList.add("floating-heart");
            heart.innerHTML = "❤";
            heart.style.left = 50 + (Math.random() * 20 - 10) + "vw";
            heart.style.animationDuration = 2 + Math.random() * 3 + "s";
            heart.style.fontSize = 20 + Math.random() * 30 + "px";
            heart.style.opacity = 0.7;
            document.getElementById("hearts-container").appendChild(heart);

            setTimeout(() => {
              heart.remove();
            }, 5000);
          }, i * 100);
        }

        // Thông báo ngẫu nhiên
        const messages = [
          "Chị yêu em nhiều nhắmmmmm! ❤️",
          "Em là điều tuyệt vời nhất đối với chị!",
          "Chị thương em nhiều nhắmmmmm",
          "Chúc mừng 1 tháng bên nhau yayyyyyy!",
          "Chị hạnh phúc vì có em!",
        ];

        // Hiệu ứng chữ bay
        const randomMsg = messages[Math.floor(Math.random() * messages.length)];
        const msgElement = document.createElement("div");
        msgElement.textContent = randomMsg;
        msgElement.style.position = "fixed";
        msgElement.style.top = "50%";
        msgElement.style.left = "50%";
        msgElement.style.transform = "translate(-50%, -50%)";
        msgElement.style.fontFamily = '"Dancing Script", cursive';
        msgElement.style.fontSize = "2rem";
        msgElement.style.color = "var(--primary-color)";
        msgElement.style.opacity = "0";
        msgElement.style.animation = "fadeInOut 2s ease forwards";
        document.body.appendChild(msgElement);

        setTimeout(() => {
          msgElement.remove();
        }, 2000);
      });

      // Countdown
      function updateCountdown() {
        const now = new Date();
        const anniversary = new Date(2025, 6, 20); // 20/07/2025
        const diff = now - anniversary;

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        document.getElementById("days").textContent = days
          .toString()
          .padStart(2, "0");
        document.getElementById("hours").textContent = hours
          .toString()
          .padStart(2, "0");
        document.getElementById("minutes").textContent = minutes
          .toString()
          .padStart(2, "0");
        document.getElementById("seconds").textContent = seconds
          .toString()
          .padStart(2, "0");
      }

      setInterval(updateCountdown, 1000);
      updateCountdown();

      // Nhạc nền tự động phát
      const musicPlayer = document.getElementById("musicPlayer");
      const bgMusic = document.getElementById("bgMusic");

      // Bật tự động phát nhạc (lưu ý: nhiều trình duyệt chặn autoplay)
      document.addEventListener("DOMContentLoaded", function () {
        // Thử phát nhạc khi trang load
        const playPromise = bgMusic.play();

        if (playPromise !== undefined) {
          playPromise.catch((error) => {
            // Nếu bị chặn, hiển thị nút play để người dùng click
            musicPlayer.innerHTML = '<i class="fas fa-play music-icon"></i>';
          });
        }
      });

      // Xử lý click nút nhạc
      let isPlaying = false;
      musicPlayer.addEventListener("click", function () {
        if (isPlaying) {
          bgMusic.pause();
          musicPlayer.innerHTML = '<i class="fas fa-play music-icon"></i>';
        } else {
          bgMusic.play();
          musicPlayer.innerHTML = '<i class="fas fa-pause music-icon"></i>';
        }
        isPlaying = !isPlaying;
      });

      // Thêm animation
      const style = document.createElement("style");
      style.textContent = `
            @keyframes confetti-fall {
                0% {
                    transform: translateY(-100px) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(100vh) rotate(360deg);
                    opacity: 0;
                }
            }
            
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
                50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
                100% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            }
        `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
